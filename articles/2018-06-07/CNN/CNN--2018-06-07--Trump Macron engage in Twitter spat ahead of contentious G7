(CNN) President Donald Trump flies to Canada on Friday expecting a knock-out, drag-down fight with top US allies over trade -- a battle he believes he can win but which he's unenthusiastic about waging in person.

He did, however, fire up his Twitter account to retaliate against a feisty tweet from French President Emmanuel Macron ahead of the conference.

Macron had said: "The American President may not mind being isolated, but neither do we mind signing a 6 country agreement if need be. Because these 6 countries represent values, they represent an economic market which has the weight of history behind it and which is now a true international force."

The American President may not mind being isolated, but neither do we mind signing a 6 country agreement if need be. Because these 6 countries represent values, they represent an economic market which has the weight of history behind it and which is now a true international force https://t.co/UA86fcjozs

Trump responded by addressing Macron and Canadian Prime Minister Justin Trudeau, whose country is hosting the G7.

"Please tell Prime Minister Trudeau and President Macron that they are charging the U.S. massive tariffs and create non-monetary barriers. The EU trade surplus with the U.S. is $151 Billion, and Canada keeps our farmers and others out. Look forward to seeing them tomorrow," he tweeted.

Please tell Prime Minister Trudeau and President Macron that they are charging the U.S. massive tariffs and create non-monetary barriers. The EU trade surplus with the U.S. is $151 Billion, and Canada keeps our farmers and others out. Look forward to seeing them tomorrow.

The President's focus over the past weeks has been his June 12 summit with North Korean despot Kim Jong Un in Singapore and not the G7 meetings held with top US allies in a remote part of Quebec. Trump has even questioned whether his presence is absolutely required in Canada.

It is, top advisers have responded, warning an absence at the premier meeting of top world leaders would amount to a retreat amid fierce clashes over economic and other issues. Trump has vented back that the meetings are unlikely to produce anything worthwhile, and that the trek to rural Quebec is a waste of time.

US allies have wondered and openly discussed how long Trump will remain at the G7 talks. Trump is planning to meet Trudeau and Macron on the sidelines of the talks.

Even as late as Thursday, some foreign officials -- based on conversations they have been having -- were still considering it a real possibility Trump could leave the summit early. But the White House insists he will keep his schedule, and as of midday Thursday, Vice President Mike Pence was not preparing to step in, according to people familiar with the situation.

Still, aides have juggled how to fulfill the requirements of the G7 while at the same time preparing Trump for the high-stakes Singapore talks a few days later. The President is already planning to skip a working lunch with world leaders on Saturday focused on healthier oceans, people familiar with the matter said. Diplomats are likely to view the early departure as a way to avoid further animosity.

Trump alluded to the packed agenda in remarks from the Oval Office on Thursday.

"It will be a pretty crowded number of days. But very exciting and I think a lot of good results can come about," Trump said. He was optimistic about the Canada talks, saying he expected "some pretty good discussions" at the G7.

Trump is otherwise slated to participate in the full schedule of meetings and photo-ops on the G7 agenda, which are all being held at a golf resort in rustic Charlevoix. The mood, according to nearly everyone involved, will be unpleasant.

Leaders are assembling at a fractured moment for US alliances after Trump slapped tariffs on steel and aluminum. His decisions to withdraw from the Paris climate accord and the Iran nuclear deal both came in the year since the last G7 meeting, held on a rocky cliffside in Sicily.

At that session, Trump felt cornered by leaders such as Macron, Trudeau and German Chancellor Angela Merkel, who tried to convey the importance of presenting a united front amid destabilizing threats like terrorism and climate change. Trump chafed at what he viewed as a lecture, according to aides, and left determined to plot his own path forward.

That's left Trump largely isolated among the other G7 nations, who have banded together in outrage.

The tariffs he imposed last week on Canada, Mexico and the European Union have drawn sharp backlash from allies, whose leaders have described feelings of anger, regret and confusion. Most have threatened retaliatory measures. But Trump's aides have signaled he's unwilling to rethink the decision.

"There are disagreements. He's sticking to his guns, and he's going to talk to them," said Larry Kudlow, Trump's top economic adviser, at a briefing on Wednesday. He described the disputes as a "family quarrel."

The session with Trudeau in particular promises to be chilly; the two men had a testy phone call at the end of May in which Trump inaccurately accused Canada of burning down the White House in the War of 1812 (it was actually the Brits).

Trump also had a "terrible" phone call with France's Macron around the same time, people familiar with the conversation said.

The wide disagreements have led to questions about whether the assembled leaders will produce the traditional "communique" that typically emerge from G7 summits. Merkel, predicting difficult discussions, has argued the leaders should not force a joint statement that waters down what the group has agreed to in the past. And Macron has insisted that any communique mention the Paris climate accord that Trump ditched last year.

"The will to have a text signed by 7 countries must not be stronger than the content of that text. On principle, we must not rule out a 6+1 agreement," Macron tweeted on Thursday.

Trudeau, as the summit's host, has placed climate and environmental issues atop his agenda, including a focus on ridding the world's oceans of plastic waste and making coastal communities more resilient to rising tides. A number of non-G7 leaders were invited to participate, including from Africa and island nations. The issue has gained significant attention over the past several weeks after a striking National Geographic cover showing a plastic bag submerged in the water like an iceberg.

Trump is expected to participate in a working session on the issue but is planning to leave before a final working lunch meant to debate the matter further. There was a back-and-forth inside the White House about curtailing the visit further, given the scheduling issues around the Singapore summit and Trump's steep differences with other G7 leaders. But it was determined that Trump's presence at the meetings would be critical, even as contentious interactions are expected.

The decision on skipping the lunch will be made depending on how the day shakes out, the people familiar with the matter said. Trump is flying right to Singapore from the G7 and aides have been weighing the logistical challenges of the back-to-back summits.

Officials said Trump may simply need to depart Canada earlier in order to make it to Singapore by Sunday evening. Kudlow, meanwhile, told reporters Wednesday that Trump is looking forward to the summit.

"The President wants to go on the trip," he said. "The President is at ease with all of these tough issues. He's proven himself to be a leader on the world stage. And he's achieved great successes, I might add, in foreign policy. So I don't think there's any issue there at all."