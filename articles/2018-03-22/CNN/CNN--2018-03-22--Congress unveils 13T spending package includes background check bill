(CNN) Congress unveiled a massive bipartisan $1.3 trillion spending package Wednesday evening that will keep the government funded until the end of September and has President Donald Trump's support.

But questions remain whether the proposal will pass Congress in time to avert a government shutdown Friday at midnight.

Lawmakers have agreed on funding levels for every corner of the government with $700 billion budgeted for defense and $591 billion slated for non-defense spending, but the legislation also includes policy riders like a bill that incentivizes state and federal authorities to report more data to the country's gun background check system called "Fix NICS."

In the moments after the bill's release, both sides found parts of the plan worth celebrating. Senate Majority Whip John Cornyn, the second ranking Republican in the chamber and the GOP primary advocate for Fix NICS, praised its inclusion.

"The calls from the American people to address gun violence in our schools and communities have been deafening, and I'm grateful we'll soon get that chance," the Texas Republican said. "Fixing the background check system will help save lives and reduce the likelihood of what occurred in Parkland and Sutherland Springs from happening again."

Senate Minority Leader Chuck Schumer, a Democrat, said members of his party could "feel very good" about the proposal.

"Every bill takes compromise, and there was plenty here, but at the end of the day we Democrats feel very good because so many of our priorities for the middle class were included," the New York Democrat said in a statement. "From opioid funding to rural broadband, and from student loans to child care, this bill puts workers and families first."

The rush now is to move the legislation as quickly as possible. Lawmakers have until Friday at midnight to pass the bill before the government runs out of money. The House is expected to vote on the plan later this week but the main obstacle will be whether the Senate can move fast enough to avert a shutdown given its rules. If one lawmaker objects, it could force Senate leaders to run out the clock and even face a temporary shutdown into the weekend.

House Speaker Paul Ryan said that while "no bill this size is perfect," this one strengthens the country.

"No bill of this size is perfect," the Wisconsin Republican said in a statement. "And we must reform our broken budget process to return to a regular appropriations process. But this legislation addresses important priorities and makes us stronger at home and abroad."

What is and isn't in the bill?

The spending bill includes additional money that could be used to fund a controversial New York and New Jersey infrastructure project. The project known as Gateway was a top aim for Schumer, but had faced obstacles after Trump said he was opposed to it.

The bill also contains a fix to the GOP's tax bill known as the "grain glitch" that had incentivized grain farmers to sell their product to co-ops at a disadvantage to other private buyers. In exchange, Democrats earned a boost to the affordable housing tax credit.

The massive spending bill also contains the Taylor Force Act, which would cut off US aid to the Palestinian Authority until the government there ceases payments to families of terrorists.

Lawmakers on both sides of the aisle boasted that the bill boosted money to fight the country's opioid epidemic as well as more funding for veterans' hospitals, Child Care Development Block Grants and infrastructure.

But the bill doesn't deliver everything.

In the end, all that is slated to be included is $1.6 billion in border security, which includes millions for 33 miles of new border fencing -- not a concrete wall -- that was already authorized through the 2006 Secure Fence Act. Democrats and environmental groups secured a win in that the bill prohibits any wall being built through the Santa Ana Wildlife Refuge.

Also left out of the bill is a health care market stabilization measure authored by GOP Sens. Lamar Alexander of Tennessee and Susan Collins of Maine, which aimed to lower premiums. Democrats wouldn't agree to abortion-restriction language in the proposal and some conservatives in Congress had expressed concerns about anything that bolstered Obamacare, a law they'd tried to repeal.

The bill's release came days after aides had expected it with last-minute holdups over everything from health care to immigration. Now, House Republicans will try to move rapidly to pass the bill, but it was not immediately clear Wednesday night when the legislation was released if the House would move to vote Thursday or Friday. Aides say leadership hoped to move on Thursday, but may have to resort to Friday morning if the GOP can't wrangle the votes before then.

A Senate GOP aide said if the House passed the bill Thursday, the Senate could take it up later that day. But passage probably wouldn't take place until at least Friday. The aide didn't know of any senators wanting to put up procedural hurdles that could slow walk the bill past the Friday funding deadline.

"I haven't made a decision yet about whether or not I'll consent to time agreements, " he told reporters Tuesday.

He wrote a sarcastic tweet related to the bill Wednesday.

"It's a good thing we have Republican control of Congress or the Democrats might bust the budget caps, fund planned parenthood and Obamacare, and sneak gun control without due process into an Omni...wait, what?" Paul tweeted.

How the White House got on board after 'roller coaster'

On Wednesday afternoon, Ryan and Senate Majority Leader Mitch McConnell spoke with Trump about the plan, leading White House press secretary Sarah Sanders to release a statement backing the legislation.

"The President and the leaders discussed their support for the bill, which includes more funds to rebuild the military, such as the largest pay raise for our troops in a decade, more than 100 miles of new construction for the border wall and other key domestic priorities, like combatting the opioid crisis and rebuilding our nation's infrastructure," Sanders said.

Ryan's spokesman Doug Andres also released a statement following the meeting: "The speaker met with the President this afternoon to discuss the emerging funding bill. They had a good conversation about the wins delivered for the President, and he is supportive of the bill."

The White House meeting came after Trump had concerns over what was not in the bill, but "everyone walked away supportive," a source familiar with the matter said. The source said the President got spun up after speaking to others about what was and wasn't in the bill, saying "there was some 11th hour mischief going on in terms of what people were telling him."

The source said that put everyone into a scramble, including Ryan, who rushed over to the White House to allay the concerns. The source says, "it was a roller coaster for a little bit," saying Trump wasn't happy about border wall funding, some infrastructure projects and lack of beds at the border that the Department of Homeland Security had asked for. But McConnell and Ryan were able to walk him through everything and calm Trump down and everyone walked away supportive, the source said.

This story has been updated to include additional developments.