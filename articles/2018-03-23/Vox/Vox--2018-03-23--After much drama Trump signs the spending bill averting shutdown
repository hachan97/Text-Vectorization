Never a dull moment in the Trump administration.

After tweeting a threat to veto the $1.3 trillion spending bill Congress passed at 1 am Friday, President Donald Trump promised to sign the funding package at a midday speech  averting government shutdown.

But not without deriding the budget first. Trump called the spending fight a ridiculous situation, censuring Democrats for wasting money on domestic programs. He said he told Congress he would never sign another bill like this again.

There are a lot of things I am unhappy about, Trump said, calling for an end to the Senate filibuster, which gave Democrats leverage over spending negotiations.

Trumps White House grew increasingly frustrated with the funding bill over immigration, saying it did not adequately fund the border wall or address the Deferred Action for Childhood Arrivals program, for which Trump blamed Democrats.

The president kept Washington in suspense over what he would do on the spending bill. It was like the finale episode of The Bachelor, one GOP aide told Vox of the drama.

But in the end, Trump agreed to the funding package, saying his highest duty is to keep America safe (the bill gives the military its largest budget in history), which wraps up what will likely be Congresss last major legislative push of the year.

Put simply, Republicans didnt mount a huge fight for Trumps hardline immigration agenda in the spending bill.

On enforcement, the GOP went into this week wanting more funding for the Department of Homeland Security to increase the number of beds for immigrant detainees and to expand enforcement, with a call to fund 1,000 more Immigration and Customs Enforcement (ICE) agents and 500 more Customs and Border Protection officers. The final compromise included funding for only an additional 328 Customs and Border Protection officers, and ICE will actually have to reduce the number of detention beds. Needless to say, this isnt the kind of deportation force Trumps administration was envisioning.

The bill also does not defund so-called sanctuary cities, something the White House specifically called on Congress to do.

It does include $1.6 billion worth of border wall funding  much less than the $25 billion the White House asked for. And it comes with a lot of strings attached; most of the funding will have to go toward repairing existing fencing or toward double fencing where barriers already exist. In other words, this isnt money for Trumps big, beautiful wall.

Trumps White House has been frustrated with the spending bill for a while. Trump officials even tried to back-channel conservative ideas with allies in Congress to defund sanctuary cities or push for more border wall spending, but to no avail. Trump reportedly threatened to veto the bill yesterday, but the White House released a statement that the president supported the package.

The final spending deal beefs up military and domestic spending and patches up some flaws in the GOP tax bill. It also devotes $3.2 billion to combat the opioid epidemic, and includes the Fix NICS Act, reinforcing existing gun background check laws.

This Congress is coming off two government shutdowns in the past three months. The first shutdown came in January and lasted for three days, during a standoff over the future of the Deferred Action for Childhood Arrivals program. Then in February, Sen. Rand Paul (R-KY) effectively shut down the government himself, this time only for a few hours overnight, in a stand against a deal negotiated by congressional leaders that would bust the government budget caps on domestic and military spending that have been in place since 2013.

But big legislative fights over gun control and DACA were largely off the table this time. And having kicked down any permanent solution to government spending since September 2017, and currently on their fifth short-term spending bill, Congresss more permanent funding package will carry them through to the start of the new fiscal year on September 30.

With the midterm elections around the corner, theres little appetite in Congress for any major legislative fights, and lawmakers were more than willing to let their controversial policy priorities fall to the side.