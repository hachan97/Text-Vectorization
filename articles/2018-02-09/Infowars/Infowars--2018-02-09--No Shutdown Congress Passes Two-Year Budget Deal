Update: just before 6am ET on Friday, the House joined the Senate in passing the budget deal that would fund the government through March 23, sending legislation to President Trump that would end a brief shutdown of the government that began at midnight.

The bill passed in a 240-186 vote despite opposition from most Democrats, who had sought a firmer commitment from Speaker Paul Ryan (R-Wis.) that he will bring immigration legislation to the floor for a vote that would protect immigrants who came to the United States as children from deportation.  House Democrats just barely made up for the defections on the GOP side. A total of 73 Democrats voted for the legislation, while 67 Republicans voted against it.

As The Hill reports, Democrats tried to make GOP leaders sweat. They held out their votes until the final minutes, until it was clear that a majority of the GOP conference supported it. At first, Republicans were the only ones casting votes as Democrats sat largely in silence. Then the no votes ominously began piling up, only for enough Democrats to eventually neutralize the GOP defections.

In his closing remarks, Ryan noted the bipartisan 71-28 Senate tally, and said that 75 percent of Senate Democrats and 68 percent of Senate Republicans had voted for it.

Before Ryan spoke, Nancy Pelosi again called on him to commit to a vote on immigration, saying he acts more as a Speaker of the White House than a Speaker of the House. The early vote took place because of Sen. Rand Paul who blocked action in the Senate for must of Thursday with a demand on an amendment leaving previous ceilings on federal spending in place.

The Senate approved a bipartisan two-year budget deal early Friday morning after the government technically shut down due to a midnight deadline which was missed due to Rand Paul  who held up the vote while insisting on an amendment which would keep budget caps in place in order to reign in out-of-control spending.

I ran for office because I was very critical of President Obamas trillion-dollar deficits, said the Kentucky senator. Now we have Republicans hand in hand with Democrats offering us trillion-dollar deficits. I cant in all honesty look the other way.

I have been offering all day to vote. I would like nothing more than to vote. But its the other side. Its the leadership that has refused to allow any amendments, he said.

The new legislation contains roughly $400 billion in new spending for the Pentagon, various agencies, disaster relief and the extension of several healthcare provisions.

Minority Leader Chuck Schumer (D-NY) implored Paul to allow the vote to pass. Frankly, there are lots of amendments on my side, Schumer said. And its hard to make an argument that if one gets an amendment, that everybody else wont want an amendment, and then well be here for a very long time.

After the GOP left Paul hanging and the Senate recessed at around 11pm, the Kentucky Senator conceded as senators shuffled back into the Capitol, passing the measure 71-28 at around 1:45 a.m.

I think its irresponsible, said Senator John Cornyn of Texas, the No. 2 Senate Republican, lamenting what he described as the act of a single senator who just is trying to make a point but doesnt really care too much about who he inconveniences (Poor Mr. Cornyn had to stay up past his bedtime while another legislator defended the values his constituency elected him to uphold).

The bipartisan spending bill now moves to the House, where passage may prove difficult amid fierce arguments brewing between staunch conservatives and Democrats who are upset that the deal does nothing for Dreamer children in the Obama-era Deferred Action for Childhood Arrivals program (DACA).

Nancy Pelosi even shared a strange anecdote during an eight hour Wednesday floor speech about a Guatamalan boy with beautiful tan skin and beautiful brown eyes that her grandson wished he looked like.

Representative Nancy Pelosi of California, the Democratic leader, told a closed-door meeting of House Democrats that she would oppose the deal, and said that Democrats would have leverage if they held together to demand a debate on immigration legislation. But she suggested that she would not stand in the way of lawmakers who wanted to vote their conscience. Pressing the issue further, Ms. Pelosi and the next two highest-ranking House Democrats sent a letter to Speaker Paul D. Ryan of Wisconsin noting their desire for the government to remain open and imploring him to make a public statement about the scheduling of a vote on legislation to protect young immigrants brought illegally to the country as children who are now shielded by the Obama-era Deferred Action for Childhood Arrivals program, or DACA. NYT

In January, Senate Democrats led by Chuck Schumer (D-NY) sparked a three-day partial government shutdown when they filibustered a spending bill over a lack of Dreamer provisions, while President Trump insisted that there would be no bill without an agreement to fund his much promised wall.

During the shutdown, Speaker Paul Ryan ignored pleas from his fellow Republicans to include DACA provisions.

We will effectively shut down the federal government for no good reason, said Senator John Cornyn (R-TX), who was repeatedly ignored by Paul. I didnt come up here to be part of somebodys club. I didnt come up here to be liked, said the Speaker.

The over 600 page deal was released Wednesday night, revealing several provisions which go far beyond the basic budget.

We eagerly await glorious clips of Nancy Pelosi arguing to help hundreds of thousands of  Dreamers. Were sure shell have the full support of her activist daughter Christine who disrupted the peaceful transition of power with a failed Electoral College coup after the 2016 election.