Senate leaders on Wednesday announced a far-reaching agreement that would set federal spending levels for the next two years, a major victory for both parties after years of lamenting Congresss reliance on short-term solutions to avert financial crises.

The bipartisan plan would raise defense and non-defense spending by $300bn and provide billions of additional dollars in disaster relief funding for areas ravaged by wildfires and hurricanes last year. It would also increase the debt ceiling and allow the government to take on new debt for the next year.

However, the deal does not resolve the thorny issue of immigration reform.

The Senate majority leader, Mitch McConnell, unveiled on Wednesday the deal after months of fraught negotiations.

I am pleased to announce that our bipartisan, bicameral negotiations on defense spending and other priorities have yielded a significant agreement, McConnell said. He added that the measure was not perfect but was a significant bipartisan step forward nonetheless.

I hope we can build on this bipartisan momentum and make 2018 a year of significant achievement for Congress, for our constituents and for the country we all love, McConnell added.

The Senate minority leader, Chuck Schumer, who followed McConnell to the floor, echoed his counterpart.

The budget deal doesnt have everything Democrats want, it doesnt have everything Republicans want, but it has a great deal of what the American people want, Schumer said.

The White House signaled support for the deal. Defense secretary James Mattis praised the increase in defense spending at the White House press briefing.

And later on Wednesday, Trump tweeted: The Budget Agreement today is so important for our great Military. It ends the dangerous sequester and gives Secretary Mattis what he needs to keep America Great. Republicans and Democrats must support our troops and support this Bill!

The legislation, however, could face barriers in the House without a commitment from the speaker, Paul Ryan, to consider legislation that would protect Dreamers, the young undocumented immigrants brought to the country as children.

On Wednesday the leader of House Democrats, Nancy Pelosi, threatened to withhold support for any budget deal not accompanied by a promise to consider immigration legislation.

Pelosi said on Wednesday: This morning, we took a measure of our caucus because the package does nothing to advance bipartisan legislation to protect Dreamers in the House. Without a commitment from Speaker Ryan comparable to the commitment from Leader McConnell, this package does not have my support.



In exchange for bringing a swift end to last months three-day government shutdown, Senate Democrats extracted a promise from McConnell to debate immigration legislation if no deal had been reached by Thursday, when the current funding measure expires.



Pelosi said the agreement includes many Democratic priorities such as a disaster recovery package and dollar for dollar increases in the defense and non-defense budget.

She said: There will be billions in funding to fight opioids, to strengthen our veterans and the NIH, to build job-creating rural infrastructure and broadband, and to fund access to childcare and quality higher education.

AshLee Strong, a spokesman for Ryan, said the Republican leader has already repeatedly stated we intend to do a Daca and immigration reform bill  one that the president supports.

But in an hours-long floor speech, Pelosi warned that without a promise to debate immigration legislation, a large number of members of our caucus would not support the budget deal.

Pelosi issued the demand on immigration as she commanded the House floor, using an unusual procedural maneuver extended to a handful of House leaders enabling them to speak on the floor without a time constraint. She used the dramatic blockade, which passed the six-hour mark around 4pm, to share stories of Dreamers and urge Ryan to bring legislation to the floor. 



Senate Democrats appear to have little appetite for another shutdown. But on Tuesday, Trump said he would welcome another shutdown if they refused to yield to his hardline demands on immigration.

Trump said: Id love to see a shutdown if we cant get this stuff taken care of.

Trump has expressed a desire to protect Dreamers, but only if it also includes measures to strengthen border enforcement, fund a border wall and restrict the legal immigration system. The fate of Dreamers was thrown into jeopardy when the Trump administration ended Deferred Action for Child Arrivals (Daca). Trump gave Congress until 5 March to find a legislative solution.

A bipartisan group of lawmakers in the Senate are working on a legislative package. It is unclear if this would be acceptable to the White House, which has drawn a hard line on immigration.